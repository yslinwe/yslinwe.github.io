---
title: "å‰‘æŒ‡officeï¼ˆäºŒåäº”ï¼‰å¤æ‚é“¾è¡¨çš„å¤åˆ¶"
date: 2020-05-04
description: "å‰‘æŒ‡officeï¼ˆäºŒåäº”ï¼‰å¤æ‚é“¾è¡¨çš„å¤åˆ¶"
draft: false
hideToc: false
enableToc: true
enableTocContent: false
author: YSL
authorEmoji: ðŸŽ…
pinned: false
tags:
- å‰‘æŒ‡office
series:
- å‰‘æŒ‡office
categories:
- å‰‘æŒ‡office
weight: 3
type: "notshow"
---

### é¢˜ç›®æè¿°

è¾“å…¥ä¸€ä¸ªå¤æ‚é“¾è¡¨ï¼ˆæ¯ä¸ªèŠ‚ç‚¹ä¸­æœ‰èŠ‚ç‚¹å€¼ï¼Œä»¥åŠä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦ä¸€ä¸ªç‰¹æ®ŠæŒ‡é’ˆrandomæŒ‡å‘ä¸€ä¸ªéšæœºèŠ‚ç‚¹ï¼‰ï¼Œè¯·å¯¹æ­¤é“¾è¡¨è¿›è¡Œæ·±æ‹·è´ï¼Œå¹¶è¿”å›žæ‹·è´åŽçš„å¤´ç»“ç‚¹ã€‚ï¼ˆæ³¨æ„ï¼Œè¾“å‡ºç»“æžœä¸­è¯·ä¸è¦è¿”å›žå‚æ•°ä¸­çš„èŠ‚ç‚¹å¼•ç”¨ï¼Œå¦åˆ™åˆ¤é¢˜ç¨‹åºä¼šç›´æŽ¥è¿”å›žç©ºï¼‰

```C++
/*
struct RandomListNode {
    int label;
    struct RandomListNode *next, *random;
    RandomListNode(int x) :
            label(x), next(NULL), random(NULL) {
    }
};
*/
class Solution {
public:
    void Copy(RandomListNode* pHead)
    {
        RandomListNode* temp;
        while(pHead!=NULL)
        {
            temp = pHead->next;
            RandomListNode* pNode = new RandomListNode(pHead->label);
            pNode->next = temp;
            pNode->random = NULL;
            pHead->next = pNode;
            pHead = temp;
        }
    }
void AddRandom(RandomListNode* pHead)
{
    while (pHead!=NULL)
    {
        if(pHead->random!=NULL)
        {
            pHead->next->random = pHead->random->next;
        }
        if(pHead->next!=NULL)
            pHead = pHead->next->next;
    }
    
}

RandomListNode* Detch(RandomListNode* pHead)
{
    RandomListNode* pNode = pHead;
    RandomListNode* pCloneHead = NULL;
    RandomListNode* pClone = NULL;
    if(pNode != NULL){
        pCloneHead = pNode->next;
        pClone = pCloneHead;
        pNode->next = pCloneHead->next;
        pNode = pNode->next;
    }
    while (pNode!=NULL)
    {
        pClone->next = pNode->next;
        pClone = pClone->next;
        pNode->next = pClone->next;
        pNode = pNode->next;
        
    }
    return pCloneHead;
}
    RandomListNode* Clone(RandomListNode* pHead) {
        Copy(pHead);
        AddRandom(pHead);
        return Detch(pHead);
    }
};
```