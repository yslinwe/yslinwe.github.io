<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Github Action 同步gitee和github单个仓库 | 我的学习博客</title><meta name=keywords content="Github Action,github"><meta name=description content="Github Action 同步gitee和github单个仓库"><meta name=author content="yanSl"><link rel=canonical href=https://yslinwe.github.io/posts/github-action-%E5%90%8C%E6%AD%A5gitee%E5%92%8Cgithub%E5%8D%95%E4%B8%AA%E4%BB%93%E5%BA%93/><link crossorigin=anonymous href=/assets/css/stylesheet.min.9fb309d42b08a39c46441c1c1c3e2edd0aa88572af8759d107d5368f7ee55ecf.css integrity="sha256-n7MJ1CsIo5xGRBwcHD4u3QqohXKvh1nRB9U2j37lXs8=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://yslinwe.github.io/logo_64.png><link rel=icon type=image/png sizes=16x16 href=https://yslinwe.github.io/%3Clogo_16.png%3E><link rel=icon type=image/png sizes=32x32 href=https://yslinwe.github.io/%3Clogo_32.png%3E><link rel=apple-touch-icon href=https://yslinwe.github.io/apple-touch-icon.png><link rel=mask-icon href=https://yslinwe.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.82.1"><meta property="og:title" content="Github Action 同步gitee和github单个仓库"><meta property="og:description" content="Github Action 同步gitee和github单个仓库"><meta property="og:type" content="article"><meta property="og:url" content="https://yslinwe.github.io/posts/github-action-%E5%90%8C%E6%AD%A5gitee%E5%92%8Cgithub%E5%8D%95%E4%B8%AA%E4%BB%93%E5%BA%93/"><meta property="og:image" content="https://yslinwe.github.io/papermod-cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-04-23T00:00:00+00:00"><meta property="article:modified_time" content="2021-04-23T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://yslinwe.github.io/papermod-cover.png"><meta name=twitter:title content="Github Action 同步gitee和github单个仓库"><meta name=twitter:description content="Github Action 同步gitee和github单个仓库"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://yslinwe.github.io/posts/"},{"@type":"ListItem","position":3,"name":"Github Action 同步gitee和github单个仓库","item":"https://yslinwe.github.io/posts/github-action-%E5%90%8C%E6%AD%A5gitee%E5%92%8Cgithub%E5%8D%95%E4%B8%AA%E4%BB%93%E5%BA%93/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Github Action 同步gitee和github单个仓库","name":"Github Action 同步gitee和github单个仓库","description":"Github Action 同步gitee和github单个仓库","keywords":["Github Action","github"],"articleBody":"入参    参数 描述 是否必传 默认值     gitee-username Gitee用户名 是 -   gitee-password Gitee密码 是 -   gitee-repo Gitee仓库（严格区分大小写） 是 -   branch 要部署的分支 否 master   directory 要部署的分支上的目录 否 ''   https 是否强制使用https 否 true    示例 在GitHub的仓库创建 .github/workflows/ 文件夹并且创建一个**sync.yml** 文件\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35  name:Syncon:push:branches:[giteePage ]jobs:build:runs-on:ubuntu-lateststeps:- name:Sync to Giteeuses:wearerequired/git-mirror-action@masterenv:# 注意在 Settings-Secrets 配置 PRIVATE SSH_PRIVATE_KEY:${{ secrets.PRIVATE }}with:# 注意替换为你的 GitHub 源仓库地址source-repo:\"git@github.com:username/username.github.io.git\"# 注意替换为你的 Gitee 目标仓库地址destination-repo:\"git@gitee.com:username/username.git\"- name:Build Gitee Pagesuses:yanglbme/gitee-pages-action@masterwith:# 注意替换为你的 Gitee 用户名gitee-username:username# 注意在 Settings-Secrets 配置 PASSWORDgitee-password:${{ secrets.PASSWORD }}# 注意替换为你的 Gitee 仓库gitee-repo:username/username# 提交到gitee的github仓库的分支branch:giteePage  先使用 wearerequired/git-mirror-action 将 GitHub 仓库同步到 Gitee 仓库，再使用 yanglbme/gitee-pages-action 实现 Gitee Pages 的自动部署。\n运行需要在 GitHub 项目的 Settings - Secrets 路径下配置好 **PRIVATE **以及 PASSWORD 两个密钥。其中：\n **PRIVATE **: 存放你的 id_rsa 私钥。PASSWORD: 存放你的 Gitee 账户密码。\n 1. 配置PRIVATE   生成SSH密钥\n1  ssh-keygen -t rsa -C \"name\"   “name\"是任意指定的标识\n 获取公钥  1  cat ~/.ssh/id_rsa.pub    绑定Gitee    复制公钥，通过仓库主页个人图像下拉设置-SSH公钥添加公钥\n  测试\n打开终端输入：\n1  ssh -T git@gitee.com   显示如下图则成功\n    绑定Github\n复制公钥，通过仓库主页个人图像下拉Setting-SSH and GPG keys添加公钥\n  测试\n打开终端输入：\n1  ssh -T git@github.com   显示如下图则成功\n    配置\n  获取私钥\n1  cat ~/.ssh/id_rsa    复制私钥，在仓库的Setting-Secrets路径下命名PRIVATE，Value添加私钥（记得复制全部内容）\n     2. 配置PASSWORD  在仓库的Setting-Secrets路径下命名PASSWORD，Value添加**Gitee**账户密码。\n 如果一切配置正常，并成功触发 Gitee Pages Action ，我们可能会收到一封来自 Gitee 的告警邮件/站内信。放心，这是 GitHub Action 程序帮我们登录到 Gitee 官网，并为我们点击了项目的部署按钮。\nFAQ 问题 1：遇到短信验证码导致无法自动部署，怎么解决？ 因为 Gitee Pages Action 使用的是 GitHub 自家的服务器（美国），在这种情况下，当 Action 自动\t帮我们登录 Gitee 的时候，会触发 Gitee 帐号异常登录告警，提示用户在非正常的 IP 地址登陆\tGitee，需要输入验证码。\n解决方案是：关注「码云 Gitee」 微信公众号，绑定个人微信到码云帐号。这样 Action 在登录的过程中，Gitee 就不会下发短信验证码，而是通过「码云 Gitee」公众号给我们发送一个登录通知，Action 就能成功登录了。\n问题 2：报 deploy error occurred, message: ‘NoneType’ object has no attribute ‘group’ 错误，怎么办？ 报了这个错误，说明 Action 已经成功帮我们登录 Gitee 帐号了，但在访问 Gitee Repo 的过程中出现问题。\n这种情况，一般是 Gitee Pages Action 的参数配置错误导致，请仔细检查你的配置信息。\n 注意：gitee-repo 参数严格区分大小写，请准确填写，比如 doocs/advanced-java，当你写成 doocs/Advanced-java 的时候，是访问不到的，不信你可以试试访问：https://gitee.com/Doocs/Advanced-java\n ","wordCount":"249","inLanguage":"zh","datePublished":"2021-04-23T00:00:00Z","dateModified":"2021-04-23T00:00:00Z","author":{"@type":"Person","name":"yanSl"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://yslinwe.github.io/posts/github-action-%E5%90%8C%E6%AD%A5gitee%E5%92%8Cgithub%E5%8D%95%E4%B8%AA%E4%BB%93%E5%BA%93/"},"publisher":{"@type":"Organization","name":"我的学习博客","logo":{"@type":"ImageObject","url":"https://yslinwe.github.io/logo_64.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://yslinwe.github.io accesskey=h title="我的学习博客 (Alt + H)">我的学习博客</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://yslinwe.github.io/archives/index title=历史><span>历史</span></a></li><li><a href=https://yslinwe.github.io/search/index title=搜索><span>搜索</span></a></li><li><a href=https://yslinwe.github.io/tags/index title=标签><span>标签</span></a></li><li><a href=https://yslinwe.github.io/categories/index title=类别><span>类别</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://yslinwe.github.io>🏠 主页</a>&nbsp;»&nbsp;<a href=https://yslinwe.github.io/posts/>Posts</a></div><h1 class=post-title>Github Action 同步gitee和github单个仓库</h1><div class=post-meta>April 23, 2021&nbsp;·&nbsp;2 分钟&nbsp;·&nbsp;yanSl</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><div class=details>目录</div></summary><div class=inner><ul><li><a href=#%e5%85%a5%e5%8f%82 aria-label=入参>入参</a></li><li><a href=#%e7%a4%ba%e4%be%8b aria-label=示例>示例</a></li><li><a href=#1-%e9%85%8d%e7%bd%aeprivate aria-label="1. 配置PRIVATE">1. 配置<strong>PRIVATE</strong></a></li><li><a href=#2-%e9%85%8d%e7%bd%aepassword aria-label="2. 配置PASSWORD">2. 配置<strong>PASSWORD</strong></a></li><li><a href=#faq aria-label=FAQ>FAQ</a><ul><li><a href=#%e9%97%ae%e9%a2%98-1%e9%81%87%e5%88%b0%e7%9f%ad%e4%bf%a1%e9%aa%8c%e8%af%81%e7%a0%81%e5%af%bc%e8%87%b4%e6%97%a0%e6%b3%95%e8%87%aa%e5%8a%a8%e9%83%a8%e7%bd%b2%e6%80%8e%e4%b9%88%e8%a7%a3%e5%86%b3 aria-label="问题 1：遇到短信验证码导致无法自动部署，怎么解决？">问题 1：遇到短信验证码导致无法自动部署，怎么解决？</a></li><li><a href=#%e9%97%ae%e9%a2%98-2%e6%8a%a5-deploy-error-occurred-message-nonetype-object-has-no-attribute-group-%e9%94%99%e8%af%af%e6%80%8e%e4%b9%88%e5%8a%9e aria-label="问题 2：报 deploy error occurred, message: &amp;lsquo;NoneType&amp;rsquo; object has no attribute &amp;lsquo;group&amp;rsquo; 错误，怎么办？">问题 2：报 deploy error occurred, message: &lsquo;NoneType&rsquo; object has no attribute &lsquo;group&rsquo; 错误，怎么办？</a></li></ul></li></ul></div></details></div><div class=post-content><h3 id=入参>入参<a hidden class=anchor aria-hidden=true href=#入参>#</a></h3><table><thead><tr><th style=text-align:center>参数</th><th style=text-align:center>描述</th><th style=text-align:center>是否必传</th><th style=text-align:center>默认值</th></tr></thead><tbody><tr><td style=text-align:center><code>gitee-username</code></td><td style=text-align:center><code>Gitee</code>用户名</td><td style=text-align:center>是</td><td style=text-align:center>-</td></tr><tr><td style=text-align:center><code>gitee-password</code></td><td style=text-align:center><code>Gitee</code>密码</td><td style=text-align:center>是</td><td style=text-align:center>-</td></tr><tr><td style=text-align:center><code>gitee-repo</code></td><td style=text-align:center><code>Gitee</code>仓库（严格区分大小写）</td><td style=text-align:center>是</td><td style=text-align:center>-</td></tr><tr><td style=text-align:center><code>branch</code></td><td style=text-align:center>要部署的分支</td><td style=text-align:center>否</td><td style=text-align:center><code>master</code></td></tr><tr><td style=text-align:center><code>directory</code></td><td style=text-align:center>要部署的分支上的目录</td><td style=text-align:center>否</td><td style=text-align:center>''</td></tr><tr><td style=text-align:center><code>https</code></td><td style=text-align:center>是否强制使用<code>https</code></td><td style=text-align:center>否</td><td style=text-align:center><code>true</code></td></tr></tbody></table><h3 id=示例>示例<a hidden class=anchor aria-hidden=true href=#示例>#</a></h3><p>在<code>GitHub</code>的仓库创建 <code>.github/workflows/</code> 文件夹并且创建一个**<code>sync.yml</code>** 文件</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt id=1><a style=outline:none;text-decoration:none;color:inherit href=#1> 1</a>
</span><span class=lnt id=2><a style=outline:none;text-decoration:none;color:inherit href=#2> 2</a>
</span><span class=lnt id=3><a style=outline:none;text-decoration:none;color:inherit href=#3> 3</a>
</span><span class=lnt id=4><a style=outline:none;text-decoration:none;color:inherit href=#4> 4</a>
</span><span class=lnt id=5><a style=outline:none;text-decoration:none;color:inherit href=#5> 5</a>
</span><span class=lnt id=6><a style=outline:none;text-decoration:none;color:inherit href=#6> 6</a>
</span><span class=lnt id=7><a style=outline:none;text-decoration:none;color:inherit href=#7> 7</a>
</span><span class=lnt id=8><a style=outline:none;text-decoration:none;color:inherit href=#8> 8</a>
</span><span class=lnt id=9><a style=outline:none;text-decoration:none;color:inherit href=#9> 9</a>
</span><span class=lnt id=10><a style=outline:none;text-decoration:none;color:inherit href=#10>10</a>
</span><span class=lnt id=11><a style=outline:none;text-decoration:none;color:inherit href=#11>11</a>
</span><span class=lnt id=12><a style=outline:none;text-decoration:none;color:inherit href=#12>12</a>
</span><span class=lnt id=13><a style=outline:none;text-decoration:none;color:inherit href=#13>13</a>
</span><span class=lnt id=14><a style=outline:none;text-decoration:none;color:inherit href=#14>14</a>
</span><span class=lnt id=15><a style=outline:none;text-decoration:none;color:inherit href=#15>15</a>
</span><span class=lnt id=16><a style=outline:none;text-decoration:none;color:inherit href=#16>16</a>
</span><span class=lnt id=17><a style=outline:none;text-decoration:none;color:inherit href=#17>17</a>
</span><span class=lnt id=18><a style=outline:none;text-decoration:none;color:inherit href=#18>18</a>
</span><span class=lnt id=19><a style=outline:none;text-decoration:none;color:inherit href=#19>19</a>
</span><span class=lnt id=20><a style=outline:none;text-decoration:none;color:inherit href=#20>20</a>
</span><span class=lnt id=21><a style=outline:none;text-decoration:none;color:inherit href=#21>21</a>
</span><span class=lnt id=22><a style=outline:none;text-decoration:none;color:inherit href=#22>22</a>
</span><span class=lnt id=23><a style=outline:none;text-decoration:none;color:inherit href=#23>23</a>
</span><span class=lnt id=24><a style=outline:none;text-decoration:none;color:inherit href=#24>24</a>
</span><span class=lnt id=25><a style=outline:none;text-decoration:none;color:inherit href=#25>25</a>
</span><span class=lnt id=26><a style=outline:none;text-decoration:none;color:inherit href=#26>26</a>
</span><span class=lnt id=27><a style=outline:none;text-decoration:none;color:inherit href=#27>27</a>
</span><span class=lnt id=28><a style=outline:none;text-decoration:none;color:inherit href=#28>28</a>
</span><span class=lnt id=29><a style=outline:none;text-decoration:none;color:inherit href=#29>29</a>
</span><span class=lnt id=30><a style=outline:none;text-decoration:none;color:inherit href=#30>30</a>
</span><span class=lnt id=31><a style=outline:none;text-decoration:none;color:inherit href=#31>31</a>
</span><span class=lnt id=32><a style=outline:none;text-decoration:none;color:inherit href=#32>32</a>
</span><span class=lnt id=33><a style=outline:none;text-decoration:none;color:inherit href=#33>33</a>
</span><span class=lnt id=34><a style=outline:none;text-decoration:none;color:inherit href=#34>34</a>
</span><span class=lnt id=35><a style=outline:none;text-decoration:none;color:inherit href=#35>35</a>
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Sync</span><span class=w>
</span><span class=w> 
</span><span class=w> 
</span><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=l>giteePage ]</span><span class=w>
</span><span class=w> 
</span><span class=w> 
</span><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>build</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Sync to Gitee</span><span class=w>
</span><span class=w>      </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>wearerequired/git-mirror-action@master</span><span class=w>
</span><span class=w>      </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span><span class=w>          </span><span class=c># 注意在 Settings-&gt;Secrets 配置 PRIVATE </span><span class=w>
</span><span class=w>          </span><span class=nt>SSH_PRIVATE_KEY</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.PRIVATE }}</span><span class=w>
</span><span class=w>      </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span><span class=w>          </span><span class=c># 注意替换为你的 GitHub 源仓库地址</span><span class=w>
</span><span class=w>          </span><span class=nt>source-repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;git@github.com:username/username.github.io.git&#34;</span><span class=w>
</span><span class=w>          </span><span class=c># 注意替换为你的 Gitee 目标仓库地址</span><span class=w>
</span><span class=w>          </span><span class=nt>destination-repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;git@gitee.com:username/username.git&#34;</span><span class=w>
</span><span class=w> 
</span><span class=w> 
</span><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build Gitee Pages</span><span class=w>
</span><span class=w>      </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>yanglbme/gitee-pages-action@master</span><span class=w>
</span><span class=w>      </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span><span class=w>          </span><span class=c># 注意替换为你的 Gitee 用户名</span><span class=w>
</span><span class=w>          </span><span class=nt>gitee-username</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span><span class=w>          </span><span class=c># 注意在 Settings-&gt;Secrets 配置 PASSWORD</span><span class=w>
</span><span class=w>          </span><span class=nt>gitee-password</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.PASSWORD }}</span><span class=w>
</span><span class=w>          </span><span class=c># 注意替换为你的 Gitee 仓库</span><span class=w>
</span><span class=w>          </span><span class=nt>gitee-repo</span><span class=p>:</span><span class=w> </span><span class=l>username/username</span><span class=w>
</span><span class=w>          </span><span class=c># 提交到gitee的github仓库的分支</span><span class=w>
</span><span class=w>          </span><span class=nt>branch</span><span class=p>:</span><span class=w> </span><span class=l>giteePage</span><span class=w>
</span></code></pre></td></tr></table></div></div><p>先使用 <code>wearerequired/git-mirror-action</code> 将 <code>GitHub</code> 仓库同步到 <code>Gitee</code> 仓库，再使用 <code>yanglbme/gitee-pages-action</code> 实现 <code>Gitee Pages</code> 的自动部署。</p><p>运行需要在 <code>GitHub</code> 项目的 Settings -> Secrets 路径下配置好 **PRIVATE **以及 <strong>PASSWORD</strong> 两个密钥。其中：</p><blockquote><p>**PRIVATE **: 存放你的 <code>id_rsa</code> 私钥。<strong>PASSWORD</strong>: 存放你的 <code>Gitee</code> 账户密码。</p></blockquote><h3 id=1-配置private>1. 配置<strong>PRIVATE</strong><a hidden class=anchor aria-hidden=true href=#1-配置private>#</a></h3><ul><li><p>生成SSH密钥</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt id=1><a style=outline:none;text-decoration:none;color:inherit href=#1>1</a>
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell>ssh-keygen -t rsa -C <span class=s2>&#34;name&#34;</span>
</code></pre></td></tr></table></div></div><p>&ldquo;name"是任意指定的标识</p><ul><li>获取公钥</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt id=1><a style=outline:none;text-decoration:none;color:inherit href=#1>1</a>
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell>cat ~/.ssh/id_rsa.pub
</code></pre></td></tr></table></div></div><ul><li>绑定<code>Gitee</code></li></ul></li><li><p>复制公钥，通过仓库主页个人图像下拉设置->SSH公钥添加公钥</p><ul><li><p>测试</p><p>打开终端输入：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt id=1><a style=outline:none;text-decoration:none;color:inherit href=#1>1</a>
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell>ssh -T git@gitee.com
</code></pre></td></tr></table></div></div><p>显示如下图则成功</p><p><img loading=lazy src=https://gitee.com/yslinxx/image-bed/raw/master/images/image-20210430222406658.png alt=image-20210430222406658></p></li></ul></li><li><p>绑定<code>Github</code></p><p>复制公钥，通过仓库主页个人图像下拉Setting->SSH and GPG keys添加公钥</p><ul><li><p>测试</p><p>打开终端输入：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt id=1><a style=outline:none;text-decoration:none;color:inherit href=#1>1</a>
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell>ssh -T git@github.com
</code></pre></td></tr></table></div></div><p>显示如下图则成功</p><p><img loading=lazy src=https://gitee.com/yslinxx/image-bed/raw/master/images/image-20210430222851660.png alt=image-20210430222851660></p></li></ul></li><li><p>配置</p><ul><li><p>获取私钥</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt id=1><a style=outline:none;text-decoration:none;color:inherit href=#1>1</a>
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>cat ~/.ssh/id_rsa
</code></pre></td></tr></table></div></div><blockquote><p>复制私钥，在仓库的Setting->Secrets路径下命名PRIVATE，<strong>Value</strong>添加私钥（记得复制全部内容）</p></blockquote></li></ul></li></ul><h3 id=2-配置password>2. 配置<strong>PASSWORD</strong><a hidden class=anchor aria-hidden=true href=#2-配置password>#</a></h3><blockquote><p>在仓库的Setting->Secrets路径下命名<strong>PASSWORD</strong>，<strong>Value</strong>添加**<code>Gitee</code>**账户密码。</p></blockquote><p>如果一切配置正常，并成功触发 <code>Gitee Pages Action</code> ，我们可能会收到一封来自 <code>Gitee</code> 的告警邮件/站内信。放心，这是 <code>GitHub Action</code> 程序帮我们登录到 <code>Gitee</code> 官网，并为我们点击了项目的部署按钮。</p><h3 id=faq>FAQ<a hidden class=anchor aria-hidden=true href=#faq>#</a></h3><h4 id=问题-1遇到短信验证码导致无法自动部署怎么解决>问题 1：遇到短信验证码导致无法自动部署，怎么解决？<a hidden class=anchor aria-hidden=true href=#问题-1遇到短信验证码导致无法自动部署怎么解决>#</a></h4><p>因为 <code>Gitee Pages Action</code> 使用的是 <code>GitHub</code> 自家的服务器（美国），在这种情况下，当 Action 自动 帮我们登录 <code>Gitee</code> 的时候，会触发 <code>Gitee</code> 帐号异常登录告警，提示用户在非正常的 <code>IP</code> 地址登陆 <code>Gitee</code>，需要输入验证码。</p><p><strong>解决方案</strong>是：关注「<strong>码云 Gitee</strong>」 微信公众号，绑定个人微信到码云帐号。这样 Action 在登录的过程中，<code>Gitee</code> 就不会下发短信验证码，而是通过「<strong>码云 Gitee</strong>」公众号给我们发送一个登录通知，Action 就能成功登录了。</p><h4 id=问题-2报-deploy-error-occurred-message-nonetype-object-has-no-attribute-group-错误怎么办>问题 2：报 deploy error occurred, message: &lsquo;NoneType&rsquo; object has no attribute &lsquo;group&rsquo; 错误，怎么办？<a hidden class=anchor aria-hidden=true href=#问题-2报-deploy-error-occurred-message-nonetype-object-has-no-attribute-group-错误怎么办>#</a></h4><p>报了这个错误，说明 <code>Action</code> 已经成功帮我们登录 <code>Gitee</code> 帐号了，但在访问 <code>Gitee Repo</code> 的过程中出现问题。</p><p>这种情况，一般是 <code>Gitee Pages Action</code> 的参数配置错误导致，请仔细检查你的配置信息。</p><blockquote><p>注意：<code>gitee-repo</code> 参数严格区分大小写，请准确填写，比如 <code>doocs/advanced-java</code>，当你写成 <code>doocs/Advanced-java</code> 的时候，是访问不到的，不信你可以试试访问：https://gitee.com/Doocs/Advanced-java</p></blockquote></div><footer class=post-footer><ul class=post-tags><li><a href=https://yslinwe.github.io/tags/github-action/>Github Action</a></li><li><a href=https://yslinwe.github.io/tags/github/>github</a></li></ul><nav class=paginav><a class=prev href=https://yslinwe.github.io/posts/mac%E4%B8%AD%E5%88%A0%E9%99%A4.ds_store/><span class=title>« 上一页</span><br><span>Mac中删除.DS_Store</span></a>
<a class=next href=https://yslinwe.github.io/posts/markdown-%E8%B0%83%E6%95%B4%E5%9B%BE%E7%89%87%E4%BD%8D%E7%BD%AE%E4%B8%8E%E5%A4%A7%E5%B0%8F/><span class=title>下一页 »</span><br><span>Markdown 调整图片位置与大小</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2021 <a href=https://yslinwe.github.io>我的学习博客</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>window.onload=function(){localStorage.getItem("menu-scroll-position")&&(document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position"))};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft)}document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script><script>document.querySelectorAll('pre > code').forEach(b=>{const d=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerText='复制';function c(){a.innerText='已复制!',setTimeout(()=>{a.innerText='复制'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),c();return}const a=document.createRange();a.selectNodeContents(b);const d=window.getSelection();d.removeAllRanges(),d.addRange(a);try{document.execCommand('copy'),c()}catch(a){}d.removeRange(a)}),d.appendChild(a)})</script></body></html>